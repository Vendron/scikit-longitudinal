<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>scikit_longitudinal.data_preparation.elsa_handler API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;border-radius:10px;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){table{width:100%;border-collapse:separate;border-spacing:0;margin-bottom:20px;margin-top:20px;background-color:#FAFAFA;box-shadow:0 8px 16px 0 rgba(0,0,0,0.2);border-radius:10px}th,td{text-align:left;padding:15px}td h3{text-align:center;font-weight:bold}th{text-align:center;background-color:#F5F5F5}tr:nth-child(even){background-color:#F9F9F9}tr:hover{background-color:#F5F5F5}th:first-child,td:first-child{border-top-left-radius:10px;border-bottom-left-radius:10px}th:last-child,td:last-child{border-top-right-radius:10px;border-bottom-right-radius:10px}#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>scikit_longitudinal.data_preparation.elsa_handler</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="scikit_longitudinal.data_preparation.elsa_handler.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>args)</span>
</code></dt>
<dd>
<div class="desc"><p>Main function for the ELSA data handler.</p>
<p>Used by the makefile target rule named <code>make create_elsa_core_datasets</code>.</p></div>
</dd>
<dt id="scikit_longitudinal.data_preparation.elsa_handler.parse_arguments"><code class="name flex">
<span>def <span class="ident">parse_arguments</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler"><code class="flex name class">
<span>class <span class="ident">ElsaDataHandler</span></span>
<span>(</span><span>csv_path: str, elsa_type: str)</span>
</code></dt>
<dd>
<div class="desc"><p>A class to handle ELSA (English Longitudinal Study of Ageing) data.</p>
<p>The ELSA dataset is a comprehensive collection of longitudinal data that has been meticulously gathered from a
carefully selected and representative sample of individuals within the English population. This dataset
specifically focuses on individuals who are aged 50 years and older, ensuring that it captures a significant
portion of the population that falls within this age range. The InputCSVReader class is responsible for reading
the input CSV file and performing any necessary data preprocessing. It also handles the creation of datasets for
each unique class found in the data. Finally, it saves the generated datasets in the specified file format and
destination directory.</p>
<p>Refer to the UK data service to obtain the ELSA dataset:
<a href="https://beta.ukdataservice.ac.uk/datacatalogue/series/series?id=200011">https://beta.ukdataservice.ac.uk/datacatalogue/series/series?id=200011</a></p>
<h2 id="attributes">Attributes</h2>
<p>df (pd.DataFrame):
The dataframe containing the data.
elsa_type (str):
The type of ELSA dataset (core, Nurse).
datasets (dict):
A dictionary containing datasets for each unique class.</p>
<h2 id="examples">Examples</h2>
<h1 id="initialize-the-handler-with-a-csv-file-path-and-elsa-dataset-type-note-that-core-here-refers-to-the-core">Initialize the handler with a CSV file path and ELSA dataset type - Note that Core here refers to the core</h1>
<p>ELSA dataset to distinguish it from other ELSA datasets such as Nurse, etc. hence, the preprocessing step is
different for each dataset type.</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>elsa_data_handler = ElsaDataHandler("path/to/csv_file.csv", "core")</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h1 id="preprocess-the-data-and-create-datasets-for-each-unique-class">Preprocess the data and create datasets for each unique class</h1>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>elsa_data_handler.create_datasets()</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h1 id="save-the-datasets-in-the-desired-file-format">Save the datasets in the desired file format</h1>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>elsa_data_handler.save_datasets(dir_output="output/directory", file_format="csv")</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h1 id="get-a-specific-dataset-by-its-class-name">Get a specific dataset by its class name</h1>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>dataset = elsa_data_handler.get_dataset("class_name")</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>Initialises the ELSA_data_handler with a given CSV file path.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>csv_path</code></strong> :&ensp;<code>str</code></dt>
<dd>The path to the CSV file to handle.</dd>
</dl></div>
<h3>Methods</h3>
<dl>
<dt id="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.core_preprocessing"><code class="name flex">
<span>def <span class="ident">core_preprocessing</span></span>(<span>self) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Preprocesses the core dataset.</p>
<p>The renaming of certain attributes from "longitudinal" to "non-longitudinal" has been implemented. Specifically,
the attribute names have been updated from "wN" to "waveN" to reflect this change. The default behaviour of the
LongitudinalDataset class is modified in order to prevent the automatic creation of a group for the features.
Instead, a separate group is created for each of the non-longitudinal attributes that are specified.
Furthermore, it is worth noting that certain attributes have been deemed superfluous for the purpose of
classification. Specifically, the age attributes have been excluded, with particular emphasis on the final
attribute (age_w8), as it pertains to the individual's age in the past and is therefore deemed irrelevant.</p></div>
</dd>
<dt id="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.create_datasets"><code class="name flex">
<span>def <span class="ident">create_datasets</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Creates datasets for each unique class and stores them in the datasets attribute.</p></div>
</dd>
<dt id="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.get_dataset"><code class="name flex">
<span>def <span class="ident">get_dataset</span></span>(<span>self, class_name: str) ‑> pandas.core.frame.DataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the dataset corresponding to the given class name.</p>
<h2 id="args">Args</h2>
<p>class_name (str):
The name of the class.</p>
<h2 id="returns">Returns</h2>
<p>pd.DataFrame:
The dataset corresponding to the class name, or None if the class does not exist.</p></div>
</dd>
<dt id="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.get_unique_classes"><code class="name flex">
<span>def <span class="ident">get_unique_classes</span></span>(<span>self) ‑> list</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the unique classes from the dataframe.</p>
<p>A class is denoted by the prefix "class_" followed by the class name. For example, "class_1" is a class name.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>list</code></dt>
<dd>A list of unique class names.</dd>
</dl></div>
</dd>
<dt id="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.nurse_preprocessing"><code class="name flex">
<span>def <span class="ident">nurse_preprocessing</span></span>(<span>self) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Preprocesses the nurse dataset.</p>
<p>The renaming of certain attributes from "longitudinal" to "non-longitudinal" has been implemented. Specifically,
the attribute names have been updated from "wN" to "waveN" to reflect this change. The default behaviour of the
LongitudinalDataset class is modified in order to prevent the automatic creation of a group for the features.
Instead, a separate group is created for each of the non-longitudinal attributes that are specified.
Furthermore, it is worth noting that certain attributes have been deemed superfluous for the purpose of
classification. Specifically, the age attributes have been excluded, with particular emphasis on the final
attribute (age_w8), as it pertains to the individual's age in the past and is therefore deemed irrelevant.</p></div>
</dd>
<dt id="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.save_datasets"><code class="name flex">
<span>def <span class="ident">save_datasets</span></span>(<span>self, dir_output: str = 'tmp', file_format: str = 'csv')</span>
</code></dt>
<dd>
<div class="desc"><p>Saves the datasets in the specified file format.</p>
<h2 id="args">Args</h2>
<p>dir_output (str):
The directory to save the datasets in.
file_format (str):
The file format to save the datasets in. Supported formats are "csv" and "arff".</p>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>If an unsupported file format is provided.</dd>
</dl></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="scikit_longitudinal.data_preparation" href="index.html">scikit_longitudinal.data_preparation</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="scikit_longitudinal.data_preparation.elsa_handler.main" href="#scikit_longitudinal.data_preparation.elsa_handler.main">main</a></code></li>
<li><code><a title="scikit_longitudinal.data_preparation.elsa_handler.parse_arguments" href="#scikit_longitudinal.data_preparation.elsa_handler.parse_arguments">parse_arguments</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler" href="#scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler">ElsaDataHandler</a></code></h4>
<ul class="two-column">
<li><code><a title="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.core_preprocessing" href="#scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.core_preprocessing">core_preprocessing</a></code></li>
<li><code><a title="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.create_datasets" href="#scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.create_datasets">create_datasets</a></code></li>
<li><code><a title="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.get_dataset" href="#scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.get_dataset">get_dataset</a></code></li>
<li><code><a title="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.get_unique_classes" href="#scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.get_unique_classes">get_unique_classes</a></code></li>
<li><code><a title="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.nurse_preprocessing" href="#scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.nurse_preprocessing">nurse_preprocessing</a></code></li>
<li><code><a title="scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.save_datasets" href="#scikit_longitudinal.data_preparation.elsa_handler.ElsaDataHandler.save_datasets">save_datasets</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>